# C#扩展方法

一般来说，当我们使用某个类时，需要用到一些特别的方法，但却没有时。一般做法可能是创建一个基于该类的派生类，添加我们想要的方法，但这样做无疑增加了复杂度。所以这时候，**扩展方法**出现了。

 扩展方法使你能够直接向现有类型“添加”方法。虽然扩展方法是一种静态方法，但可以像扩展类型上的实例方法一样进行调用。 

## 使用

我这里以string类为例，给string扩展一个方法AppendText()，代码如下

```c#
public static string AppendText(this string str, string text)
{
       return str + text;
}
```

可以看出，扩展方法的特征包括了，使用static修饰；返回类型为待扩展类型；第一个参数格式使用了this，并且类型也必须是待扩展类型。

使用方法直接调用即可。

```c#
 var str = "ss";
 str = str.AppendText("sdsd");

//str = "sssdsd"
```

有一点值得注意的是，扩展方法一般定义在单独的静态扩展类中。因为它不可以被定义在泛型静态类中。